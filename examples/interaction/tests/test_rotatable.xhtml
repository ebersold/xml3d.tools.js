<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" >
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:webgl="http://www.xml3d.org/2009/xml3d/webgl">
<head>
    <title>Rotatable</title>
    <link rel="stylesheet" type="text/css" media="all" href="../../style/default.css"/>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="../../external/xml3d.js"></script>
    <script type="text/javascript" src="../../../build/output/xml3d.tools.js"></script>
    <script type="text/javascript" src="../page.js"/>

    <script type="text/javascript" src="test_rotatable.js"></script>
</head>

<body onload="initScene()">
<div id="overall">
<div id="content">
    <h1>Rotatable</h1>
    <xml3d id="MyXml3d"
           xmlns="http://www.xml3d.org/2009/xml3d"
           activeView="#controller_view"
           style="width:350px; height:350px;"
    >
        <group>
            <view id="controller_view" position="0 0 10"/>
        </group>
        <light id="light1" intensity="10.8" global="false"/>

        <defs>
            <transform id="trans1"/>
            <transform id="trans2" translation="0 -2.5 0"/>
            <transform id="transall"/>
        </defs>

        <group id="group_all" transform="#transall">
            <group id="group1" transform="#trans1">
                <!-- mesh inserted by script -->
            </group>
        </group>
    </xml3d>

    <div class="actions">
        <input type="button" class="test-button" value="Activate Trackball" id="toggletrackball" onclick="toggleTrackBall();"/>
        <input type="button" class="test-button" value="Reset Rotation" onclick="resetRotation();"/>

        <div class="inline-action">
            <b>Axis Restriction:</b>
            <span>
                <input type="radio" name="axisrestrict" value="none" onclick="changeRestriction(null)" checked="checked"/>
                none
            </span>
            <span>
                <input type="radio" name="axisrestrict" value="x" onclick="changeRestriction('x')"/>
                x
            </span>
            <span>
                <input type="radio" name="axisrestrict" value="y" onclick="changeRestriction('y')"/>
                y
            </span>
            <span>
                <input type="radio" name="axisrestrict" value="z" onclick="changeRestriction('z')"/>
                z
            </span>
        </div>
    </div>
    <div class="description">
        <div class="paragraph">
            Upon activation the rotation of the rectangle can be controlled by dragging it.
            This is done using the Rotatable class.
        </div>

        <div class="separator" />

        <div class="paragraph">
            The status can be reviewed below.
            <ul>
                <li><b>Dragging:</b> whether Rotatable reports that it is dragging and thus rotating.</li>
                <li><b>Rotation:</b> the rotation attribute of the target element's transform node.</li>
            </ul>
        </div>
        <div class="paragraph"><b>Dragging:</b> <span id="dragstatus">false</span></div>
        <div class="paragraph"><b>Rotation:</b> <span id="rotation">no dragging done yet</span></div>
    </div>

</div>
</div>
</body>
</html>
